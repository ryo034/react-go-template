# フロントエンドとバックエンドのアーキテクチャについて

この個人開発プロジェクトのフロントエンドとバックエンドにおいて**クリーンアーキテクチャ**と**DDD**を採用する

## Status

accepted

## Context

このプロジェクトでは、以下の要素を重視しています。

* メンテナンス性

* 拡張性とテスト容易性

* ビジネスロジックの明確性

* 持続可能性

* **レイヤードアーキテクチャ**: 一般的なアプローチであり、各層が互いに上下関係を持ちます。ただし、層間の依存関係が強いため、変更には柔軟性が欠ける場合があります。

* **オニオンアーキテクチャ**: クリーンアーキテクチャと同様にドメインモデルを中心に設計されますが、フレームワークやUIに対する依存関係の取り扱いが異なります。

* **ヘキサゴナルアーキテクチャ（ポート＆アダプターアーキテクチャ）**: システムをポートとアダプターで構築し、外部システムとの結合を緩和します。クリーンアーキテクチャと似ていますが、実装の詳細により注目が集まります。

クリーンアーキテクチャは、これらの要件を満たす柔軟性と構造的な明確さを提供します。

クリーンアーキテクチャの持続可能性に関して、以下理由からアーキテクチャに関する説明が不要になり、すぐにプロジェクトに参加することができ、持続可能性が高まります。

* 一般的に知られており、理解しやすい
* 厳密なクリーンアーキテクチャのプロジェクトではディレクトリ構成のブレやオリジナリティの要素が少なくなる

### クリーンアーキテクチャ採用理由

* **テスト容易性**: 各層は独立しており、単体テストを容易に実施できる。
* **拡張性とメンテナンス性**: システムの各部分が疎結合であり、新しい機能の追加や既存機能の変更が容易に行える。
* **フレームワークに依存しない**: アーキテクチャは具体的なフレームワークやライブラリに依存せず、将来的な技術スタックの変更に柔軟に対応できる。
  * 今後展開するサービスでReact以外の選択をしたい場合に、メインのロジックを共通化し、フレームワークだけ差し替えるようにできる

### DDD

* **ビジネスロジックの明確化**: ビジネスルールとプロセスを中心にシステムを設計することで、ビジネス要件を直接的に反映させる。
* **ビジネスと技術の連携強化**: ビジネスエキスパートと開発者間のコミュニケーションを促進し、共通の言語（ユビキタス言語）を使用する。
* **ビジネスの複雑さの管理**: 複雑なビジネスロジックやルールを効果的にモデル化し、管理する。

## Decision

この個人開発プロジェクトのフロントエンドとバックエンドにおいて**厳密なクリーンアーキテクチャ**と**DDD**を採用する

## Consequences

厳密なクリーンアーキテクチャを採用するので、プロジェクトごとに端折ったりせずに基本的には以下のディレクトリ構成を守ること

* domain
* driver
* infrastructure
* interface
  * controller
  * gateway
  * presenter
* usecase
  * interactor
  * output
  * input
